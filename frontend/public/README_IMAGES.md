# 历史照片墙图片使用说明

## 图片放置位置

所有历史照片墙的图片需要放在 `public/image/` 目录下。

## 路径格式

在代码中使用图片时，请使用以下格式：

```javascript
imageUrl: '/image/01.jpg'  // ✅ 正确：从 public 目录开始的相对路径
```

**不要使用：**
```javascript
imageUrl: 'D:\\计算机\\image\\01.jpg'  // ❌ 错误：绝对路径无法在Web中使用
imageUrl: 'image/01.jpg'  // ❌ 错误：缺少开头的 /
```

## 使用步骤

1. **创建目录**：如果 `frontend/public/image/` 目录不存在，请先创建它
2. **放置图片**：将你的图片文件（如 `01.jpg`）复制到 `frontend/public/image/` 目录
3. **使用路径**：在代码中使用 `/image/文件名.jpg` 格式的路径

## 图片大小优化建议

如果图片太大导致页面加载缓慢或崩溃，请按以下方式优化：

### 1. 压缩图片大小
- **推荐尺寸**：宽度 800-1200px，高度 600-900px
- **文件大小**：建议每张图片控制在 **500KB 以内**
- **工具推荐**：
  - 在线工具：TinyPNG (https://tinypng.com/)
  - 本地工具：Photoshop、GIMP、ImageOptim

### 2. 图片格式选择
- **JPG**：适合照片，文件小，推荐使用
- **PNG**：适合图标和透明背景，文件较大
- **WebP**：现代格式，文件最小，但兼容性稍差

### 3. 批量处理图片
如果有多张图片需要处理，可以使用以下方法：
```bash
# 使用 ImageMagick 批量压缩（需要先安装）
magick mogrify -resize 1200x900 -quality 85 -path output/ *.jpg
```

## 示例

假设你有以下图片：
- `01.jpg` - 官田兵工厂
- `02.jpg` - 抗战岁月
- `03.jpg` - 建国初期

将它们放在 `frontend/public/image/` 目录下，然后在代码中这样使用：

```javascript
{
    z: -50,
    title: '官田兵工厂',
    year: '1931',
    description: '中央红军第一个兵工厂，人民兵工的起点',
    imageUrl: '/image/01.jpg'  // 正确格式
}
```

## 故障排查

### 如果图片不显示：

1. **检查文件路径**：
   - 打开浏览器开发者工具（F12）
   - 查看 Console 标签页，看是否有错误信息
   - 查看 Network 标签页，看图片请求是否成功（状态码应该是 200）

2. **检查文件是否存在**：
   - 确认文件在 `frontend/public/image/` 目录下
   - 确认文件名和代码中的路径完全一致（区分大小写）

3. **检查图片格式**：
   - 确保图片格式是 jpg, jpeg, png 或 webp
   - 尝试用其他图片测试

4. **重启开发服务器**：
   - 修改图片后，按 `Ctrl+C` 停止服务器
   - 重新运行 `npm run dev` 或 `yarn dev`

### 如果页面崩溃或加载缓慢：

1. **检查图片大小**：
   - 打开图片文件属性，查看文件大小
   - 如果单张图片超过 2MB，需要压缩

2. **检查图片数量**：
   - 如果同时加载多张大图片，可能导致内存不足
   - 建议每张图片控制在 500KB 以内

3. **查看浏览器控制台**：
   - 按 F12 打开开发者工具
   - 查看 Console 是否有内存错误或加载超时

## 注意事项

- 图片文件名建议使用英文和数字，避免中文文件名
- 支持的图片格式：jpg, jpeg, png, webp
- 如果图片加载失败，会自动显示占位符
- 修改图片后，可能需要重启开发服务器才能看到更新
- **重要**：图片路径必须以 `/` 开头，表示从 `public` 目录开始

